
# Test options to writedap
#
# The general options that writedap currently processes are:
# d: instead of getting data, print the dds.
# f: Force all numberic types to float64, enforce name canonicalization,
#    munge DDDMMSSH to a float number (with sign as hemisphere indicator).
# g: Use the gui
# v: Verbose output
# a: Asynchronous transfer (broken in the core).
#
# Note that the options -r and -c (the per-url options) are tested by the
# multiurl tests.

# Test the `-d' option. See other options.?.exp files for test for the other
# options. 

# $Id$

global comp_output		# contains output from das-test_start
global verbose			# this and srcdir are set by runtest.exp
global srcdir

source "testsuite/writedap.1/urls.tcl"

set test_name "option: -d"

# The `1' in compare_stdout means call xfail if the test fails.

#  writedap_start "-D" $nodb_xb
#  compare_stdout $nodb_xb "$test_name: nodb xb" 1

#  writedap_start "-D" $nodb_hctd
#  compare_stdout $nodb_hctd "$test_name: nodb hctd" 1

#  writedap_start "-D" $nodb_bo
#  compare_stdout $nodb_bo "$test_name: nodb bo" 1

#  writedap_start "-D" $coads_pmel
#  compare_stdout $coads_pmel_dds "$test_name: coads pmel"

writedap_start "-D" $coads 
compare_stdout $coads_dds "$test_name: coads"

# This image file was moved away. To where?
# writedap_start "-D" $dsp_1
# compare_stdout $dsp_1_dds "$test_name: dsp 1"

writedap_start "-D" $dsp_2
compare_stdout $dsp_2_dds "$test_name: dsp 2" 1

# the JG server does not have these datasets any more. 
# writedap_start "-D" $jg_diatoms
# compare_stdout $jg_diatoms_dds "$test_name: jg diatoms"

# writedap_start "-D" $jg_ctd
# compare_stdout $jg_ctd_dds "$test_name: jg ctd"

# writedap_start "-D" $jg_bot
# compare_stdout $jg_bot_dds "$test_name: jg bot"
