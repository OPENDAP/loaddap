
# Test options to writedap
#
# The general options that writedap currently processes are:
# d: instead of getting data, print the dds.
# f: Force all numberic types to float64, enforce name canonicalization,
#    munge DDDMMSSH to a float number (with sign as hemisphere indicator).
# g: Use the gui
# v: Verbose output
# a: Asynchronous transfer (broken in the core).

# Test the `-f' option. See other options.?.exp files for test for the other
# options. 

# $Id$

global comp_output		# contains output from das-test_start
global verbose			# this and srcdir are set by runtest.exp
global srcdir

source "testsuite/writedap.1/urls.tcl"

# Test the `-f' option

set test_name "option: -f"

# This tests a Grid of Float64.

writedap_start "-a -f" "${coads}?${coads_sst_ce}"
compare_stdout "testsuite/data/writedap/coads.data" "$test_name: coads"

# Test Grid of Bytes.

#  writedap_start "-f" "${dsp_1}?${dsp_1_ce}"
#  compare_stdout "testsuite/data/writedap/dsp_1.data" "$test_name: dsp 1"

# Test Array of Bytes.

writedap_start "-a -f" "${dsp_2}?${dsp_2_ce}"
compare_stdout "testsuite/data/writedap/dsp_2.data" "$test_name: dsp 2" 1

# Test Strings and the weird DDDMMSSH translation.

